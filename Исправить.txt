üì¶ –ß—Ç–æ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è

–ê–∫–∫–∞—É–Ω—Ç –Ω–∞ GitHub (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π).

–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π electron-builder –∏ electron-updater –≤ –ø—Ä–æ–µ–∫—Ç–µ.

npm install electron-builder electron-updater --save-dev


–¢–≤–æ–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ Electron (—É —Ç–µ–±—è –æ–Ω —É–∂–µ –µ—Å—Ç—å üëç).

üîë –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–¢—ã —Å–æ–±–∏—Ä–∞–µ—à—å —Å–≤–æ—é –ø—Ä–æ–≥—Ä–∞–º–º—É —á–µ—Ä–µ–∑ electron-builder.

–ó–∞–ª–∏–≤–∞–µ—à—å —Å–±–æ—Ä–∫—É –∫–∞–∫ Release –Ω–∞ GitHub.

–í —Ç–≤–æ—ë–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç electron-updater, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç GitHub: ¬´–ï—Å—Ç—å –ª–∏ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è?¬ª

–ï—Å–ª–∏ –µ—Å—Ç—å ‚Üí –∫–∞—á–∞–µ—Ç –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

üõ†Ô∏è –ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å package.json

–î–æ–±–∞–≤—å –≤ package.json —Å–µ–∫—Ü–∏—é build:

{
  "name": "rgb-shop",
  "version": "1.0.0",
  "main": "main.js",
  "build": {
    "appId": "com.rgbshop.app",
    "publish": [
      {
        "provider": "github",
        "owner": "–¢–≤–æ–π_GitHub_–Ω–∏–∫",
        "repo": "RGBShop"
      }
    ]
  }
}


üëâ owner = —Ç–≤–æ–π –Ω–∏–∫ –Ω–∞ GitHub
üëâ repo = –∏–º—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, RGBShop)

2. –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ main.js
const { app, BrowserWindow } = require("electron");
const { autoUpdater } = require("electron-updater");

let win;

function createWindow() {
  win = new BrowserWindow({
    width: 800,
    height: 600,
    webPreferences: {
      nodeIntegration: true
    }
  });

  win.loadFile("index.html");

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
  autoUpdater.checkForUpdatesAndNotify();
}

app.on("ready", createWindow);

// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
autoUpdater.on("update-downloaded", () => {
  win.webContents.send("update_ready");
});

3. –°–æ–∑–¥–∞—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

–ó–∞—Ö–æ–¥–∏—à—å –Ω–∞ GitHub ‚Üí New Repository ‚Üí –¥–∞—ë—à—å –∏–º—è RGBShop.

–ö–ª–∞–¥—ë—à—å —Ç—É–¥–∞ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç.

4. –°–æ–∑–¥–∞—Ç—å Release –Ω–∞ GitHub

–°–æ–±–∏—Ä–∞–µ—à—å –ø—Ä–æ–µ–∫—Ç:

npx electron-builder --win --x64


–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, RGBShop Setup 1.0.0.exe).

–ò–¥—ë—à—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ‚Üí –≤–∫–ª–∞–¥–∫–∞ Releases ‚Üí New Release.

–í–µ—Ä—Å–∏—è = v1.0.0 (–¥–æ–ª–∂–Ω–∞ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å package.json).

–ü—Ä–∏–∫—Ä–µ–ø–ª—è–µ—à—å .exe –∏ .yml, –∫–æ—Ç–æ—Ä—ã–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª electron-builder.

5. –ü—Ä–æ–≤–µ—Ä–∫–∞

–°—Ç–∞–≤–∏—à—å –ø—Ä–æ–≥—Ä–∞–º–º—É –Ω–∞ –≤—Ç–æ—Ä–æ–π –ü–ö.

–î–µ–ª–∞–µ—à—å –∏–∑–º–µ–Ω–µ–Ω–∏—è, –ø–æ–¥–Ω–∏–º–∞–µ—à—å –≤–µ—Ä—Å–∏—é –≤ package.json (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1.0.1).

–°–æ–±–∏—Ä–∞–µ—à—å –∏ –∑–∞–ª–∏–≤–∞–µ—à—å –Ω–æ–≤—ã–π Release –Ω–∞ GitHub.

–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–±–Ω–æ–≤–∏—Ç—Å—è —Å–∞–º–æ üéâ

‚ö° –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

GitHub –¥–∞—ë—Ç –±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è Releases.

–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Windows, macOS, Linux.

–ì–ª–∞–≤–Ω–æ–µ ‚Äî —Å–ª–µ–¥–∏—Ç—å –∑–∞ –≤–µ—Ä—Å–∏–µ–π –≤ package.json.